function getCityList(){var t=$("#provinceSelect"),n=$("#citySelect"),i=$("#districtSelect");$.getJSON("http://restapi.amap.com/v3/config/district?key=1ff97f3d9068e5e12e21f3c34480096a&subdistrict=1&level=province&keywords="+t.val()).success(function(t){if(t.status==1)if(n.empty(),t.districts[0].districts.length>0)$.each(t.districts[0].districts,function(t,i){$("<option><\/option>").val(i.adcode).text(i.name).appendTo(n)}),getDistrictList();else{var r=t.districts[0];$("<option><\/option>").val(r.adcode).text(r.name).appendTo(n);i.empty();appendDistrictItem(r)}})}function getDistrictList(){var n=$("#citySelect"),t=$("#districtSelect");$.getJSON("http://restapi.amap.com/v3/config/district?key=1ff97f3d9068e5e12e21f3c34480096a&subdistrict=1&level=city&keywords="+n.val()).success(function(n){if(n.status==1)if(t.empty(),n.districts[0].districts.length>0)$.each(n.districts[0].districts,function(n,t){appendDistrictItem(t)});else{var i=n.districts[0];appendDistrictItem(i)}})}function appendDistrictItem(n){var i=$("#provinceSelect"),r=$("#citySelect"),u=$("#districtSelect"),t=$("#Districts"),f=$('<input type="checkbox" />').val(n.adcode).text(n.name).attr("id",n.adcode).prop("checked",t.find("#li_"+n.adcode).size()!=0).click(function(){if($(this).prop("checked")){if(t.find("#li_"+n.adcode).size()!=0)return;var h=i.val(),e=i.find("option:selected").text(),c=r.val(),o=r.find("option:selected").text(),f=n.adcode,s=n.name,l=$('<span class="input-group-btn"><\/span>').append($('<button class="btn btn-default remove-district" type="button">&times;<\/button>').val(f).click(function(){t.find("#li_"+f).remove();u.find("#"+f).prop("checked",!1);AdjustDistrictHiddenInputName()})),a=$('<div class="input-group"><\/div>').append($('<input type="button" class="text-left form-control" />').val(e+" "+o+" "+s)).append(l);$("<li><\/li>").append(a).append($('<input type="hidden" />').val(h)).append($('<input type="hidden" />').val(e)).append($('<input type="hidden" />').val(c)).append($('<input type="hidden" />').val(o)).append($('<input type="hidden" />').val(f)).append($('<input type="hidden" />').val(s)).attr("id","li_"+f).appendTo(t);AdjustDistrictHiddenInputName()}else t.find("#li_"+n.adcode).remove(),AdjustDistrictHiddenInputName()});$("<li><\/li>").append($('<div class="checkbox"><\/div>').append(f).append($("<label><label>").attr("for",n.adcode).text(n.name))).appendTo(u)}function AdjustDistrictHiddenInputName(){$("#Districts").find("li").each(function(n){$(this).find("input[type=hidden]").first().attr("name","Districts["+n+"].ProvinceAdcode").next().attr("name","Districts["+n+"].ProvinceName").next().attr("name","Districts["+n+"].CityAdcode").next().attr("name","Districts["+n+"].CityName").next().attr("name","Districts["+n+"].DistrictAdcode").next().attr("name","Districts["+n+"].DistrictName")})}function getJobClassList(){var n=$("#jobCategorySelect"),t=$("#jobClassSelect");$.getJSON("../../../api/jobClass",{categoryId:n.val()}).success(function(n){n&&(t.empty(),n.length>0&&$.each(n,function(n,t){appendJobClassItem(t)}))})}function appendJobClassItem(n){var i=$("#jobCategorySelect"),r=$("#jobClassSelect"),t=$("#JobClasses"),u=$('<input type="checkbox" />').val(n.id).text(n.name).attr("id","job_"+n.id).prop("checked",t.find("#li_job_"+n.id).size()!=0).click(function(){if($(this).prop("checked")){if(t.find("#li_job_"+n.id).size()!=0)return;var o=i.val(),f=i.find("option:selected").text(),u=n.id,e=n.name,s=$('<span class="input-group-btn"><\/span>').append($('<button class="btn btn-default remove-jobclass" type="button">&times;<\/button>').val("job_"+u).click(function(){t.find("#li_job_"+u).remove();r.find("#job_"+u).prop("checked",!1);AdjustJobClassHiddenInputName()})),h=$('<div class="input-group"><\/div>').append($('<input type="button" class="text-left form-control" />').val(f+" "+e)).append(s);$("<li><\/li>").append(h).append($('<input type="hidden" />').val(o)).append($('<input type="hidden" />').val(f)).append($('<input type="hidden" />').val(u)).append($('<input type="hidden" />').val(e)).attr("id","li_job_"+u).appendTo(t);AdjustJobClassHiddenInputName()}else t.find("#li_job_"+n.id).remove(),AdjustJobClassHiddenInputName()});$("<li><\/li>").append($('<div class="checkbox"><\/div>').append(u).append($("<label><label>").attr("for","job_"+n.id).text(n.name))).appendTo(r)}function AdjustJobClassHiddenInputName(){$("#JobClasses").find("li").each(function(n){$(this).find("input[type=hidden]").first().attr("name","JobClasses["+n+"].JobCategoryId").next().attr("name","JobClasses["+n+"].JobCategoryName").next().attr("name","JobClasses["+n+"].JobClassId").next().attr("name","JobClasses["+n+"].JobClassName")})}$(document).ready(function(){var n=$("#provinceSelect"),i,t;n.size()>0&&(i=$("#citySelect"),t=$("#districtSelect"),$.getJSON("http://restapi.amap.com/v3/config/district?key=1ff97f3d9068e5e12e21f3c34480096a&subdistrict=1").success(function(t){t.status==1&&(n.empty(),$.each(t.districts[0].districts,function(t,i){$("<option><\/option>").val(i.adcode).text(i.name).appendTo(n)}),getCityList())}),n.change(function(){getCityList()}),i.change(function(){getDistrictList()}),$("#selectAllDistrict").click(function(){$(this).prop("checked")?t.find("input:unchecked").click():t.find("input:checked").click()}))});$(document).ready(function(){$(".remove-district").click(function(){var n=$(this).val();$("#Districts").find("#li_"+n).remove();$("#districtSelect").find("#"+n).prop("checked",!1);AdjustDistrictHiddenInputName()})});$(document).ready(function(){var n=$("#jobCategorySelect"),t;n.size()>0&&(t=$("#jobClassSelect"),$.getJSON("../../../api/jobCategory").success(function(t){t.length>0&&(n.empty(),$.each(t,function(t,i){$("<option><\/option>").val(i.id).text(i.name).appendTo(n)}),getJobClassList())}),n.change(function(){getJobClassList()}),$("#selectAllJobClass").click(function(){$(this).prop("checked")?t.find("input:unchecked").click():t.find("input:checked").click()}))});$(document).ready(function(){$(".remove-jobclass").click(function(){var n=$(this).val();$("#JobClasses").find("#li_"+n).remove();$("#jobClassSelect").find("#"+n).prop("checked",!1);AdjustJobClassHiddenInputName()})});